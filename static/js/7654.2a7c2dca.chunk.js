"use strict";(self.webpackChunkconsultorio_odontologico_frontend_react=self.webpackChunkconsultorio_odontologico_frontend_react||[]).push([[7654],{4346:()=>{},7654:(e,a,t)=>{t.r(a),t.d(a,{UpdateItem:()=>u,default:()=>m});t(4346);var o=t(5043),s=t(774),l=t(9999),n=t(437);var c=t(6213),i=t(579);const r=(0,o.lazy)(()=>t.e(7283).then(t.bind(t,7283))),d=(0,o.lazy)(()=>t.e(6794).then(t.bind(t,6794))),u=e=>{let{classType:a,Icon:t,item:u,urlApi:m,setOpen:p,handleItems:h}=e;const{theme:x}=(0,s.wR)(),{alert:b}=(0,n.Z)(),[y,f]=(0,o.useState)(null);let g={};switch(a){case"cita":g={paciente:u[a].paciente,consultorio:u[a].consultorio,doctor:u[a].doctor,tratamiento:u[a].tratamiento};break;case"paciente":g={nombre:u[a].nombre,apellido:u[a].apellido,identificacion:u[a].identificacion,genero:u[a].genero,eps_:u[a].eps};break;case"doctor":g={nombre:u[a].nombre,apellido:u[a].apellido,identificacion:u[a].identificacion,genero:u[a].genero,especialidad:u[a].especialidad};break;case"consultorio":g={numero:u[a].numero,nombre:u[a].nombre};break;case"especialidad":g={nombre:u[a].nombre};break;case"tratamiento":g={especialidad:u[a].especialidad,consultorio:u[a].consultorio,doc:u[a].doctor};break;default:g={}}const j=(0,l.W)({classType:a,initialValues:g}).state,k=()=>{p(!1)},v=()=>{if(j.every(e=>""!==e.value)){j.forEach(e=>{u[a][e.key]=e.value});const e=JSON.stringify({[a]:u[a]});(async(e,a,t)=>{try{const o=await fetch(e+"/"+t,{method:"PUT",body:a,headers:{"Content-type":"application/json"}});return o.json(),200<=o.status&&o.status<=299?console.log("PUT "+o.status+" Actualizaci\xf3n exitosa"):400<=o.status&&o.status<=499?console.log("PUT "+o.status+" Actualizaci\xf3n fallida: Error en el env\xedo de datos"):500<=o.status&&o.status<=599&&console.log("PUT "+o.status+" Actualizaci\xf3n fallida: Error en el servidor remoto"),o.status}catch(o){const e=o.toString().split(":")[1].trim();"Failed to fetch"===e?console.log("Actualizaci\xf3n fallida: No hay conexi\xf3n con la base de datos"):console.log("Actualizaci\xf3n fallida: "+e)}})(m,e,u._id).then(async e=>{200<=e&&e<=299?(h("update",u._id,a),b({type:"success",title:"Actualizaci\xf3n exitosa",buttons:1})):b({type:"error",title:"Error en la actualizaci\xf3n",buttons:1})},e=>{b({type:"error",title:"Error en la actualizaci\xf3n",buttons:1}),console.log("Error Update: ",e)})}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"modalContainer justify-items-center",children:(0,i.jsxs)("div",{id:"modalBox",className:"modalBox","data-theme":x,children:[(0,i.jsxs)("div",{className:"modalHeader",children:[(0,i.jsx)("center",{children:(0,i.jsx)(t,{color:c.et,height:2.5,width:2.5,strokeWidth:.6,className:"center"})}),(0,i.jsx)("h6",{className:"modalTitle main-color pt-2",children:"Actualizar "+a.charAt(0).toUpperCase()+a.slice(1)+"?"})]}),(0,i.jsx)("div",{className:"modalContent",children:(0,i.jsxs)("div",{className:"container-fluid modalTable mt-2",children:[(0,i.jsx)("div",{className:"row bg-row flex-nowrap",children:(0,i.jsx)(r,{placeholder:"C\xf3digo",value:u._id,type:"text",className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm pe-none"})}),j.map((e,a)=>(0,i.jsx)("div",{className:"row bg-row flex-nowrap",children:"dropdown"===e.type?(0,i.jsx)(d,{property:e,isOpen:y===e.key,onToggle:()=>f(a=>a===e.key?null:e.key)}):(0,i.jsx)("div",{className:"col px-0",children:(0,i.jsx)(r,{property:!0,value:e.value,type:e.type,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm"})})},"row"+a))]})}),(0,i.jsx)("div",{className:"modalFooter",children:(0,i.jsxs)("div",{className:"d-flex mt-2 w-100",children:[(0,i.jsx)("button",{className:"aceptBtn w-100",onClick:()=>{v(),k()},children:"Actualizar"}),(0,i.jsx)("button",{className:"cancelBtn w-100",onClick:k,children:"Cancel"})]})})]})}),(0,i.jsx)("div",{className:"darkBackground",onClick:k})]})},m=u}}]);
//# sourceMappingURL=7654.2a7c2dca.chunk.js.map