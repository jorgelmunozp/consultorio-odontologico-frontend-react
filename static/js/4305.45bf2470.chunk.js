"use strict";(self.webpackChunkconsultorio_odontologico_frontend_react=self.webpackChunkconsultorio_odontologico_frontend_react||[]).push([[4305],{4305:(e,t,s)=>{s.r(t),s.d(t,{CreateItems:()=>d,default:()=>u});var o=s(5043),r=s(437),n=s(9999);var a=s(579);const l=(0,o.lazy)(()=>s.e(7283).then(s.bind(s,7283))),c=(0,o.lazy)(()=>s.e(7466).then(s.bind(s,7466))),i=e=>{let{classType:t,Icon:s,isMenuOpen:i}=e;const{alert:d}=(0,r.Z)(),[u,p]=(0,o.useState)(null),{state:m,api:h,resetState:y}=(0,n.W)({classType:t}),g=(0,o.useMemo)(()=>t.charAt(0).toUpperCase()+t.slice(1),[t]),x=(0,o.useCallback)(()=>{if(m.some(e=>""===e.value))return void d({type:"warning",title:"Debes ingresar todos los datos",buttons:1});const e=m.reduce((e,t)=>(e[t.key]=t.value,e),{}),s=JSON.stringify({[t]:e});(async(e,t)=>{try{const s=await fetch(e,{method:"POST",body:t,headers:{"Content-type":"application/json"}});return s.json(),200<=s.status&&s.status<=299?console.log("POST "+s.status+" Registro exitoso"):400<=s.status&&s.status<=499?console.log("POST "+s.status+" Registro fallido: Error en el env\xedo de datos"):500<=s.status&&s.status<=599&&console.log("POST "+s.status+" Registro fallido: Error en el servidor remoto"),s.status}catch(s){const e=s.toString().split(":")[1].trim();"Failed to fetch"===e?console.log("Registro fallido: No hay conexi\xf3n con la base de datos"):console.log("Registro fallido: "+e)}})(h,s).then(async e=>{e>=200&&e<300?(y(),d({type:"success",title:"Registro exitoso",buttons:1})):e>=400&&e<500?d({type:"error",title:"Error en el env\xedo de datos",buttons:1}):e>=500&&d({type:"error",title:"Error en el servidor remoto",buttons:1})}).catch(e=>{console.error("Error en la creaci\xf3n:",e),d({type:"error",title:"Error en el registro",buttons:1})})},[m,h,t,d,y]);return(0,a.jsx)("div",{className:"App",children:(0,a.jsxs)("div",{className:"container-fluid mt-4 mt-sm-5 me-0 ps-4 ps-sm-5 pe-3 pe-sm-2 smooth "+(i?"w-responsive":"w-100"),children:[(0,a.jsx)("center",{children:(0,a.jsxs)("h5",{className:"century-gothic main-color fs-sm-2",children:["Registrar ",g]})}),(0,a.jsxs)("div",{className:"container-fluid mt-2 mt-sm-5 pe-0 pe-md-5 px-0 me-0 smooth",children:[m.map(e=>(0,a.jsx)("div",{className:"row mb-3",children:"dropdown"===e.type?(0,a.jsx)(c,{property:e,array:e.options,handleChange:e.handleChange,isOpen:u===e.key,onToggle:()=>p(t=>t===e.key?null:e.key)}):(0,a.jsx)("div",{className:"col px-0",children:(0,a.jsx)(l,{type:e.type,value:e.value,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm"})})},e.key)),(0,a.jsx)("div",{className:"row mt-4 mt-sm-5",children:(0,a.jsx)("div",{className:"col d-flex justify-content-center",children:(0,a.jsxs)("button",{onClick:x,className:"button bg-main-color text-white rounded border-0 py-3 w-50 shadow-sm d-flex align-items-center justify-content-center",children:["Registrar ",(0,a.jsx)(s,{className:"ms-2"})]})})})]})]})})},d=e=>{let{classType:t,Icon:s,isMenuOpen:o}=e;return(0,a.jsx)(i,{classType:t,Icon:s,isMenuOpen:o})},u=d}}]);
//# sourceMappingURL=4305.45bf2470.chunk.js.map