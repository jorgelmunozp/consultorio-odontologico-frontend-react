"use strict";(self.webpackChunkconsultorio_odontologico_frontend_react=self.webpackChunkconsultorio_odontologico_frontend_react||[]).push([[6746],{6746:(e,t,s)=>{s.r(t),s.d(t,{CreateItem:()=>d,default:()=>u});s(4346);var o=s(5043),a=s(774),r=s(437);var l=s(6213),n=s(579);const c=(0,o.lazy)(()=>s.e(7283).then(s.bind(s,7283))),i=(0,o.lazy)(()=>s.e(7466).then(s.bind(s,7466))),d=e=>{let{classType:t,Icon:s,objectHook:d,setOpen:u}=e;const{theme:h}=(0,a.wR)(),{alert:m}=(0,r.Z)(),[p,g]=(0,o.useState)(null),{api:y,state:x,resetState:b,handleItems:j}=d,v=(0,o.useMemo)(()=>t.charAt(0).toUpperCase()+t.slice(1),[t]),k=(0,o.useCallback)(()=>{if(x.some(e=>""===e.value))return void m({type:"warning",title:"Debes ingresar todos los datos",buttons:1});const e=x.reduce((e,t)=>(e[t.key]=t.value,e),{}),s=JSON.stringify({[t]:e});(async(e,t)=>{try{const s=await fetch(e,{method:"POST",body:t,headers:{"Content-type":"application/json"}});return s.json(),200<=s.status&&s.status<=299?console.log("POST "+s.status+" Registro exitoso"):400<=s.status&&s.status<=499?console.log("POST "+s.status+" Registro fallido: Error en el env\xedo de datos"):500<=s.status&&s.status<=599&&console.log("POST "+s.status+" Registro fallido: Error en el servidor remoto"),s.status}catch(s){const e=s.toString().split(":")[1].trim();"Failed to fetch"===e?console.log("Registro fallido: No hay conexi\xf3n con la base de datos"):console.log("Registro fallido: "+e)}})(y,s).then(async s=>{s>=200&&s<300?(j("create",{[t]:e}),b(),m({type:"success",title:"Registro exitoso",buttons:1})):s>=400&&s<500?m({type:"error",title:"Error en el env\xedo de datos",buttons:1}):s>=500&&m({type:"error",title:"Error en el servidor remoto",buttons:1})}).catch(e=>{console.error("Error en la creaci\xf3n:",e),m({type:"error",title:"Error en el registro",buttons:1})})},[x,y,t,m,b,j]),f=(0,o.useCallback)(()=>u(!1),[u]),C=(0,o.useCallback)(e=>g(t=>t===e?null:e),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"modalContainer justify-items-center",children:(0,n.jsxs)("div",{className:"modalBox","data-theme":h,children:[(0,n.jsxs)("div",{className:"modalHeader",children:[(0,n.jsx)("center",{children:(0,n.jsx)(s,{color:l.et,height:2.5,width:2.5,strokeWidth:.6,className:"center"})}),(0,n.jsxs)("h6",{className:"modalTitle century-gothic main-color pt-2",children:["Registrar ",v]})]}),(0,n.jsx)("div",{className:"modalContent",children:(0,n.jsx)("div",{className:"container-fluid modalTable mt-2",children:x.map(e=>(0,n.jsx)("div",{className:"row bg-row",children:"dropdown"===e.type?(0,n.jsx)(i,{property:e,isOpen:p===e.key,onToggle:()=>C(e.key)}):(0,n.jsxs)("div",{className:"col px-0",children:[(0,n.jsx)(c,{type:e.type,value:e.value,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),className:"input form-control rounded border-muted border-1 text-center shadow-sm"})," "]})},e.key))})}),(0,n.jsx)("div",{className:"modalFooter",children:(0,n.jsxs)("div",{className:"d-flex mt-2 w-100",children:[(0,n.jsx)("button",{className:"aceptBtn w-100",onClick:()=>{k(),f()},children:"Registrar"}),(0,n.jsx)("button",{className:"cancelBtn w-100",onClick:f,children:"Cancelar"})]})})]})}),(0,n.jsx)("div",{className:"darkBackground",onClick:f})]})},u=(0,o.memo)(d)}}]);
//# sourceMappingURL=6746.56027c1d.chunk.js.map