"use strict";(self.webpackChunkconsultorio_odontologico_frontend_react=self.webpackChunkconsultorio_odontologico_frontend_react||[]).push([[4931],{3391:()=>{},4931:(e,a,t)=>{t.r(a),t.d(a,{Item:()=>x,default:()=>j});var s=t(5043),l=t(7950),o=(t(3391),t(6213)),c=t(579);const n=e=>{let{classType:a,Icon:t,item:s,setOpen:l,theme:n}=e;const i=Object.keys(s[a]),r=Object.values(s[a]);let d=[];r.forEach(e=>{"object"===typeof e?d.push(Object.values(e)[0]+" "+Object.values(e)[1]):d.push(e)});const m=()=>{l(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"modalContainer justify-items-center",children:(0,c.jsxs)("div",{id:"modalBox",className:"modalBox","data-theme":n,children:[(0,c.jsxs)("div",{className:"modalHeader",children:[(0,c.jsx)("center",{children:(0,c.jsx)(t,{color:o.et,height:2.5,width:2.5,strokeWidth:.6,className:"center"})}),(0,c.jsx)("h6",{className:"modalTitle main-color pt-2",children:a.charAt(0).toUpperCase()+a.slice(1)})]}),(0,c.jsx)("div",{className:"modalContent",children:(0,c.jsxs)("div",{className:"container-fluid modalTable mt-2 overflow-auto",children:[(0,c.jsxs)("div",{className:"row modalTableTitle flex-nowrap",children:[(0,c.jsx)("div",{className:"col-6",children:"Par\xe1metro"}),(0,c.jsx)("div",{className:"col-6",children:"Datos"})]}),(0,c.jsxs)("div",{className:"row bg-row flex-nowrap",children:[(0,c.jsx)("div",{className:"col-6 modalTableData text-start",children:"C\xf3digo"}),(0,c.jsx)("div",{className:"col-6 modalTableData text-start",children:s._id})]}),d.map((e,a)=>(0,c.jsxs)("div",{className:"row bg-row flex-nowrap",children:[(0,c.jsx)("div",{className:"col-6 modalTableData text-start",children:i[a].charAt(0).toUpperCase()+i[a].slice(1)}),(0,c.jsx)("div",{className:"col-6 modalTableData text-start",children:e})]},i[a].toLowerCase()))]})}),(0,c.jsx)("div",{className:"modalFooter",children:(0,c.jsx)("div",{className:"d-grid mt-2 w-100",children:(0,c.jsx)("button",{className:"aceptBtn mx-auto w-50",onClick:m,children:"Aceptar"})})})]})}),(0,c.jsx)("div",{className:"darkBackground",onClick:m})]})};var i=t(9999);const r=(0,s.lazy)(()=>t.e(7283).then(t.bind(t,7283))),d=(0,s.lazy)(()=>t.e(6794).then(t.bind(t,6794))),m=e=>{let{classType:a,Icon:t,item:l,urlApi:n,setOpen:m,handleItems:h,alert:u,theme:p}=e;const[x,j]=(0,s.useState)(null);let b={};switch(a){case"cita":b={paciente:l[a].paciente,consultorio:l[a].consultorio,doctor:l[a].doctor,tratamiento:l[a].tratamiento};break;case"paciente":b={nombre:l[a].nombre,apellido:l[a].apellido,identificacion:l[a].identificacion,genero:l[a].genero,eps_:l[a].eps};break;case"doctor":b={nombre:l[a].nombre,apellido:l[a].apellido,identificacion:l[a].identificacion,genero:l[a].genero,especialidad:l[a].especialidad};break;case"consultorio":b={numero:l[a].numero,nombre:l[a].nombre};break;case"especialidad":b={nombre:l[a].nombre};break;case"tratamiento":b={especialidad:l[a].especialidad,consultorio:l[a].consultorio,doc:l[a].doctor};break;default:b={}}const v=(0,i.W)({classType:a,initialValues:b}).state,N=()=>{m(!1)},y=()=>{if(v.every(e=>""!==e.value)){v.forEach(e=>{l[a][e.key]=e.value});const e=JSON.stringify({[a]:l[a]});(async(e,a,t)=>{try{const s=await fetch(e+"/"+t,{method:"PUT",body:a,headers:{"Content-type":"application/json"}});return s.json(),200<=s.status&&s.status<=299?console.log("PUT "+s.status+" Actualizaci\xf3n exitosa"):400<=s.status&&s.status<=499?console.log("PUT "+s.status+" Actualizaci\xf3n fallida: Error en el env\xedo de datos"):500<=s.status&&s.status<=599&&console.log("PUT "+s.status+" Actualizaci\xf3n fallida: Error en el servidor remoto"),s.status}catch(s){const e=s.toString().split(":")[1].trim();"Failed to fetch"===e?console.log("Actualizaci\xf3n fallida: No hay conexi\xf3n con la base de datos"):console.log("Actualizaci\xf3n fallida: "+e)}})(n,e,l._id).then(async e=>{200<=e&&e<=299?(h("update",l._id,a),u({type:"success",title:"Actualizaci\xf3n exitosa",buttons:1,theme:p})):u({type:"error",title:"Error en la actualizaci\xf3n",buttons:1,theme:p})},e=>{u({type:"error",title:"Error en la actualizaci\xf3n",buttons:1,theme:p}),console.log("Error Update: ",e)})}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"modalContainer justify-items-center",children:(0,c.jsxs)("div",{id:"modalBox",className:"modalBox","data-theme":p,children:[(0,c.jsxs)("div",{className:"modalHeader",children:[(0,c.jsx)("center",{children:(0,c.jsx)(t,{color:o.et,height:2.5,width:2.5,strokeWidth:.6,className:"center"})}),(0,c.jsx)("h6",{className:"modalTitle main-color pt-2",children:"Actualizar "+a.charAt(0).toUpperCase()+a.slice(1)+"?"})]}),(0,c.jsx)("div",{className:"modalContent",children:(0,c.jsxs)("div",{className:"container-fluid modalTable mt-2",children:[(0,c.jsx)("div",{className:"row bg-row flex-nowrap",children:(0,c.jsx)(r,{placeholder:"C\xf3digo",value:l._id,type:"text",className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm pe-none",theme:p})}),v.map((e,a)=>(0,c.jsx)("div",{className:"row bg-row flex-nowrap",children:"dropdown"===e.type?(0,c.jsx)(d,{property:e,isOpen:x===e.key,onToggle:()=>j(a=>a===e.key?null:e.key),theme:p}):(0,c.jsx)("div",{className:"col px-0",children:(0,c.jsx)(r,{property:!0,value:e.value,type:e.type,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm",theme:p})})},"row"+a))]})}),(0,c.jsx)("div",{className:"modalFooter",children:(0,c.jsxs)("div",{className:"d-flex mt-2 w-100",children:[(0,c.jsx)("button",{className:"aceptBtn w-100",onClick:()=>{y(),N()},children:"Actualizar"}),(0,c.jsx)("button",{className:"cancelBtn w-100",onClick:N,children:"Cancel"})]})})]})}),(0,c.jsx)("div",{className:"darkBackground",onClick:N})]})},h=(0,s.lazy)(()=>t.e(7793).then(t.bind(t,7793))),u=e=>{let{classType:a,Icon:t=h,item:s,urlApi:l,setOpen:o,handleItems:n,alert:i,theme:r}=e;const d=Object.keys(s[a]),m=Object.values(s[a]);let u=[];m.forEach(e=>{"object"===typeof e?u.push(Object.values(e)[0]+" "+Object.values(e)[1]):u.push(e)});const p=()=>{o(!1)},x=()=>{(async(e,a)=>{try{const t=await fetch(e+"/"+a,{method:"DELETE",headers:{"Content-type":"application/json"}});return t.json(),200<=t.status&&t.status<=299?console.log("DELETE "+t.status+" Registro eliminado"):400<=t.status&&t.status<=499?console.log("DELETE "+t.status+" Eliminaci\xf3n fallida: Error en el env\xedo de datos"):500<=t.status&&t.status<=599&&console.log("DELETE "+t.status+" Eliminaci\xf3n fallida: Error en el servidor remoto"),t.status}catch(t){const e=t.toString().split(":")[1].trim();"Failed to fetch"===e?console.log("Eliminaci\xf3n fallida: No hay conexi\xf3n con la base de datos"):console.log("Eliminaci\xf3n fallida: "+e)}})(l,s._id).then(async e=>{200<=e&&e<=299?(n("delete",s._id),i({type:"success",title:"Eliminaci\xf3n exitosa",buttons:1,theme:r})):i({type:"error",title:"Error en la eliminaci\xf3n",buttons:1,theme:r})},e=>{i({type:"error",title:"Error en la eliminaci\xf3n",buttons:1,theme:r}),console.log("Error en la eliminaci\xf3n: ",e)})};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"modalContainer justify-items-center",children:(0,c.jsxs)("div",{id:"modalBox",className:"modalBox","data-theme":r,children:[(0,c.jsxs)("div",{className:"modalHeader",children:[(0,c.jsx)("center",{children:(0,c.jsx)(t,{color:"#f8bb86",height:3,width:3,className:"center"})}),(0,c.jsx)("h6",{className:"modalTitle main-color pt-2",children:"Eliminar "+a.charAt(0).toUpperCase()+a.slice(1)+"?"})]}),(0,c.jsx)("div",{className:"modalContent",children:(0,c.jsxs)("div",{className:"container-fluid modalTable mt-2 overflow-auto",children:[(0,c.jsxs)("div",{className:"row modalTableTitle flex-nowrap",children:[(0,c.jsx)("div",{className:"col-6",children:"Par\xe1metro"}),(0,c.jsx)("div",{className:"col-6",children:"Datos"})]}),(0,c.jsxs)("div",{className:"row bg-row flex-nowrap",children:[(0,c.jsx)("div",{className:"col-6 modalTableData text-start",children:"C\xf3digo"}),(0,c.jsx)("div",{className:"col-6 modalTableData text-start",children:s._id})]}),u.map((e,a)=>(0,c.jsxs)("div",{className:"row bg-row flex-nowrap",children:[(0,c.jsx)("div",{className:"col-6 modalTableData text-start",children:d[a].charAt(0).toUpperCase()+d[a].slice(1)}),(0,c.jsx)("div",{className:"col-6 modalTableData text-start",children:e})]},d[a].toLowerCase()))]})}),(0,c.jsx)("div",{className:"modalFooter",children:(0,c.jsxs)("div",{className:"d-flex mt-2 w-100",children:[(0,c.jsx)("button",{className:"aceptBtn w-100",onClick:()=>{x(),p()},children:"Eliminar"}),(0,c.jsx)("button",{className:"cancelBtn w-100",onClick:p,children:"Cancel"})]})})]})}),(0,c.jsx)("div",{className:"darkBackground",onClick:p})]})};function p(e){const[a,t]=e.split(":").map(Number);let s=a<12?" am":" pm";return`${a%12||12}:${t.toString().padStart(2,"0")}${s}`}const x=e=>{let{classType:a,Icons:t,item:o={},urlApi:i,handleItems:r,alert:d,theme:h}=e;const[x,j]=(0,s.useState)(!1),b=t[a].IconRead,v=t[a].IconSearch,N=t[a].IconEdit,y=t[a].IconDelete,g=["paciente","doctor","consultorio","tratamiento","especialidad","genero","eps"],f={read:(0,c.jsx)(n,{classType:a,Icon:b,item:o,setOpen:j,theme:h}),update:(0,c.jsx)(m,{classType:a,Icon:N,item:o,urlApi:i,setOpen:j,handleItems:r,alert:d,theme:h}),delete:(0,c.jsx)(u,{classType:a,item:o,urlApi:i,setOpen:j,handleItems:r,alert:d,theme:h})};return x?document.body.classList.add("noScroll"):document.body.classList.remove("noScroll"),(0,c.jsxs)(c.Fragment,{children:[Object.entries((null===o||void 0===o?void 0:o[a])||{}).map((e,a)=>{let[t,s]=e;return(0,c.jsx)("div",{className:"text-start text-nowrap ms-2 ms-sm-2 pe-0"+(g.includes(t)?" col-6 col-sm-3":" col-4 col-sm-2"),children:"hora"===t?p(s):s},"item"+a)}),(0,c.jsxs)("div",{className:"col",children:[(0,c.jsx)("button",{className:"border-0 bg-transparent queryBtn main-color",onClick:()=>j("read"),children:(0,c.jsx)(v,{width:"1.5",height:"1.5"})}),(0,c.jsx)("button",{className:"border-0 bg-transparent queryBtn main-color",onClick:()=>j("update"),children:(0,c.jsx)(N,{width:"1.5",height:"1.5"})}),(0,c.jsx)("button",{className:"border-0 bg-transparent queryBtn main-color",onClick:()=>j("delete"),children:(0,c.jsx)(y,{width:"1.5",height:"1.5"})})]}),x&&(0,l.createPortal)((0,c.jsx)("div",{id:"modal",children:f[x]}),document.body)]})},j=x}}]);
//# sourceMappingURL=4931.8d96c99a.chunk.js.map