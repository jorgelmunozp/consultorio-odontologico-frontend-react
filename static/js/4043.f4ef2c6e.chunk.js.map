{"version":3,"file":"static/js/4043.f4ef2c6e.chunk.js","mappings":"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","sources":["components/crud/DeleteItem.js","helpers/fetchDelete.js"],"sourcesContent":["import '../../alerts/modal/modal.css';\r\nimport { lazy }  from \"react\";\r\nimport { useThemeContext } from \"../../theme/ThemeContext.js\";\r\nimport { useAlertContext } from '../../alerts/AlertContext.js';\r\nimport { fetchDelete } from '../../helpers/fetchDelete.js';\r\n\r\nconst Warning = lazy(() => import('../icons/alert/Warning.js'));\r\n\r\nexport const DeleteItem = ({ classType, Icon=Warning, item, urlApi, setOpen, handleItems }) => {\r\n  const { theme } = useThemeContext();                            // üëà Call the global theme\r\n  const { alert } = useAlertContext();\r\n\r\n  const keys = Object.keys(item[classType]);                      // Nombre de los par√°metros del objeto\r\n  const values = Object.values(item[classType]);                  // Valores de cada par√°metro del objeto\r\n  let valuesData = [];\r\n  \r\n  values.forEach(value => {                                       // Arreglo con los datos de los valores de cada par√°metro del objeto\r\n    if(typeof value === 'object') { \r\n      valuesData.push( Object.values(value)[0] + \" \" + Object.values(value)[1] );\r\n    } else { valuesData.push( value ) }\r\n  });\r\n\r\n  const handleClose = () => { setOpen(false); }                   // Gestiona el cierre del modal\r\n\r\n  const handleDelete = () => {\r\n    fetchDelete(urlApi,item._id).then(\r\n      async (responseStatus) => {\r\n        if(200 <= responseStatus && responseStatus <= 299) {             \r\n          handleItems('delete',item._id);                         // El padre actualiza el estado y React re-renderiza sin el elemento eliminado\r\n          \r\n          alert({ type:'success', title:'Eliminaci√≥n exitosa', buttons:1, theme:theme });\r\n        }\r\n        else { alert({ type:'error', title:'Error en la eliminaci√≥n', buttons:1, theme:theme }) }\r\n      },\r\n      (error) => { alert({ type:'error', title:'Error en la eliminaci√≥n', buttons:1, theme:theme }); console.log(\"Error en la eliminaci√≥n: \",error) }\r\n    )\r\n  };\r\n\r\n  if (process.env.NODE_ENV === 'development') console.log('[Delete Item ‚ùå]');\r\n\r\n  return (\r\n      <>\r\n        <div className={'modalContainer justify-items-center'}>\r\n          <div className={'modalBox'} data-theme={theme}>\r\n            <div className={'modalHeader'}>\r\n              <center><Icon color={'#f8bb86'} height={3} width={3} className={'center'} /></center>\r\n              <h6 className={'modalTitle century-gothic main-color pt-2'}>{ \"Eliminar \" + classType.charAt(0).toUpperCase() + classType.slice(1) + \"?\" }</h6>\r\n            </div>\r\n            <div className={'modalContent'}>\r\n              <div className='container-fluid modalTable mt-2 overflow-auto'>\r\n                <div className='row modalTableTitle flex-nowrap'>\r\n                  <div className='col-6'>Par√°metro</div>\r\n                  <div className='col-6'>Datos</div>\r\n                </div>\r\n                <div className='row bg-row flex-nowrap'>\r\n                  <div className='col-6 modalTableData text-start'>C√≥digo</div>\r\n                  <div className='col-6 modalTableData text-start'>{ item._id }</div>\r\n                </div>\r\n                {\r\n                  valuesData.map((data,index)=>{ return(\r\n                      <div key={ keys[index].toLowerCase() } className='row bg-row flex-nowrap'>\r\n                        <div className='col-6 modalTableData text-start'>{ keys[index].charAt(0).toUpperCase() + keys[index].slice(1) }</div>\r\n                        <div className='col-6 modalTableData text-start'>{ data }</div>\r\n                      </div>\r\n                  )})\r\n                }\r\n              </div>\r\n            </div>\r\n            <div className={'modalFooter'}>\r\n              <div className={'d-flex mt-2 w-100'}>\r\n                  <button className={'aceptBtn w-100'} onClick={() => { handleDelete(); handleClose() }}>Eliminar</button>\r\n                  <button className={'cancelBtn w-100'} onClick={ handleClose }>Cancel</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={'darkBackground'} onClick={ handleClose }></div>\r\n      </>\r\n    )\r\n};\r\nexport default DeleteItem;\r\n\r\n//*********************************************************** */\r\n// import '../../alerts/modal/modal.css';\r\n// import { lazy, useMemo, useCallback } from \"react\";\r\n// import { useThemeContext } from \"../../theme/ThemeContext.js\";\r\n// import { useAlertContext } from '../../alerts/AlertContext.js';\r\n// import { fetchDelete } from '../../helpers/fetchDelete.js';\r\n\r\n// const Warning = lazy(() => import('../icons/alert/Warning.js'));\r\n\r\n// export const DeleteItem = ({ classType, Icon = Warning, item, urlApi, setOpen, handleItems }) => {\r\n//   const { theme } = useThemeContext();\r\n//   const { alert } = useAlertContext();\r\n\r\n//   // ‚úÖ Memoizamos para evitar c√°lculos en cada render\r\n//   const { keys, valuesData } = useMemo(() => {\r\n//     const keys = Object.keys(item[classType]);\r\n//     const values = Object.values(item[classType]);\r\n//     const valuesData = values.map(value =>\r\n//       typeof value === \"object\"\r\n//         ? Object.values(value).join(\" \")\r\n//         : value\r\n//     );\r\n//     return { keys, valuesData };\r\n//   }, [item, classType]);\r\n\r\n//   // ‚úÖ Eliminaci√≥n\r\n//   const handleDelete = useCallback(() => {\r\n//     fetchDelete(urlApi, item._id).then(\r\n//       async (responseStatus) => {\r\n//         if (responseStatus >= 200 && responseStatus <= 299) {\r\n//           handleItems(\"delete\", item._id); // üëà padre actualiza lista y cierra modal\r\n//           alert({ type: \"success\", title: \"Eliminaci√≥n exitosa\", buttons: 1, theme });\r\n//         } else {\r\n//           alert({ type: \"error\", title: \"Error en la eliminaci√≥n\", buttons: 1, theme });\r\n//         }\r\n//       },\r\n//       (error) => {\r\n//         alert({ type: \"error\", title: \"Error en la eliminaci√≥n\", buttons: 1, theme });\r\n//         console.error(\"Error en la eliminaci√≥n:\", error);\r\n//       }\r\n//     );\r\n//   }, [urlApi, item._id, handleItems, alert, theme]);\r\n\r\n//   return (\r\n//     <>\r\n//       <div className=\"modalContainer justify-items-center\">\r\n//         <div className=\"modalBox\" data-theme={theme}>\r\n//           <div className=\"modalHeader\">\r\n//             <center>\r\n//               <Icon color=\"#f8bb86\" height={3} width={3} className=\"center\" />\r\n//             </center>\r\n//             <h6 className=\"modalTitle main-color pt-2\">\r\n//               {`Eliminar ${classType.charAt(0).toUpperCase() + classType.slice(1)}?`}\r\n//             </h6>\r\n//           </div>\r\n//           <div className=\"modalContent\">\r\n//             <div className=\"container-fluid modalTable mt-2 overflow-auto\">\r\n//               <div className=\"row modalTableTitle flex-nowrap\">\r\n//                 <div className=\"col-6\">Par√°metro</div>\r\n//                 <div className=\"col-6\">Datos</div>\r\n//               </div>\r\n//               <div className=\"row bg-row flex-nowrap\">\r\n//                 <div className=\"col-6 modalTableData text-start\">C√≥digo</div>\r\n//                 <div className=\"col-6 modalTableData text-start\">{item._id}</div>\r\n//               </div>\r\n//               {valuesData.map((data, index) => (\r\n//                 <div key={keys[index]} className=\"row bg-row flex-nowrap\">\r\n//                   <div className=\"col-6 modalTableData text-start\">\r\n//                     {keys[index].charAt(0).toUpperCase() + keys[index].slice(1)}\r\n//                   </div>\r\n//                   <div className=\"col-6 modalTableData text-start\">{data}</div>\r\n//                 </div>\r\n//               ))}\r\n//             </div>\r\n//           </div>\r\n//           <div className=\"modalFooter\">\r\n//             <div className=\"d-flex mt-2 w-100\">\r\n//               <button className=\"aceptBtn w-100\" onClick={handleDelete}>\r\n//                 Eliminar\r\n//               </button>\r\n//               <button className=\"cancelBtn w-100\" onClick={() => setOpen(false)}>\r\n//                 Cancelar\r\n//               </button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//       <div className=\"darkBackground\" onClick={() => setOpen(false)}></div>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default DeleteItem;\r\n","export const fetchDelete = async ( urlApi,id ) => {\r\n  try {  \r\n    const response = await fetch(urlApi + \"/\" + id, {\r\n      method: \"DELETE\",\r\n      headers: { \"Content-type\": \"application/json\" }\r\n    });\r\n    response.json();\r\n    if (200 <= response.status && response.status <= 299) {\r\n      console.log('DELETE ' + response.status + ' Registro eliminado');\r\n    } else if (400 <= response.status && response.status <= 499) {\r\n      console.log('DELETE ' + response.status + ' Eliminaci√≥n fallida: Error en el env√≠o de datos');\r\n    } else if (500 <= response.status && response.status <= 599) {\r\n      console.log('DELETE ' + response.status + ' Eliminaci√≥n fallida: Error en el servidor remoto');\r\n    }\r\n    return response.status;\r\n  } catch (error) {\r\n      const errorMessage = error.toString().split(':')[1].trim();\r\n      if(errorMessage === 'Failed to fetch') { console.log('Eliminaci√≥n fallida: No hay conexi√≥n con la base de datos') } \r\n      else { console.log('Eliminaci√≥n fallida: ' + errorMessage) }     \r\n  };\r\n}"],"names":["Warning","lazy","DeleteItem","_ref","classType","Icon","item","urlApi","setOpen","handleItems","theme","useThemeContext","alert","useAlertContext","keys","Object","values","valuesData","forEach","value","push","handleClose","handleDelete","async","id","response","fetch","method","headers","json","status","console","log","error","errorMessage","toString","split","trim","fetchDelete","_id","then","responseStatus","type","title","buttons","_jsxs","_Fragment","children","_jsx","className","color","height","width","charAt","toUpperCase","slice","map","data","index","toLowerCase","onClick"],"sourceRoot":""}