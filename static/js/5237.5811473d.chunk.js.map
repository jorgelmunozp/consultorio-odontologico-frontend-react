{"version":3,"file":"static/js/5237.5811473d.chunk.js","mappings":"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","sources":["components/crud/QueryItem.js"],"sourcesContent":["import { Suspense, lazy, useState, useEffect } from 'react';\r\nimport { Cita } from '../../classes/Cita.js';\r\nimport { Paciente, Doctor } from '../../classes/User.js';\r\nimport { Especialidad } from '../../classes/Especialidad.js';\r\nimport { Consultorio } from '../../classes/Consultorio.js';\r\nimport { Tratamiento } from '../../classes/Tratamiento.js';\r\n\r\nconst CalendarEdit = lazy(() => import('../icons/calendar/CalendarEdit.js'));\r\nconst CalendarDelete = lazy(() => import('../icons/calendar/CalendarDelete.js'));\r\nconst UserEdit = lazy(() => import('../icons/user/UserEdit.js'));\r\nconst UserDelete = lazy(() => import('../icons/user/UserDelete.js'));\r\nconst HomeEdit = lazy(() => import('../icons/home/HomeEdit.js'));\r\nconst HomeDelete = lazy(() => import('../icons/home/HomeDelete.js'));\r\nconst HearthEdit = lazy(() => import('../icons/hearth/HearthEdit.js'));\r\nconst HearthDelete = lazy(() => import('../icons/hearth/HearthDelete.js'));\r\nconst FilterEdit = lazy(() => import('../icons/filter/FilterEdit.js'));\r\nconst FilterDelete = lazy(() => import('../icons/filter/FilterDelete.js'));\r\nconst SearchBar = lazy(() => import('../search/SearchBar.js'));\r\nconst ItemsList = lazy(() => import('./ItemsList.js'));\r\nconst PaginationBar = lazy(() => import('../pagination/PaginationBar.js'));\r\n\r\nexport const QueryItem = ({ classType, menuIcons, isMenuOpen, theme }) => {\r\n  const classes = { cita: { Classe: Cita },\r\n                    paciente: { Classe: Paciente },\r\n                    doctor: { Classe: Doctor },\r\n                    consultorio: { Classe: Consultorio },\r\n                    tratamiento: { Classe: Tratamiento },\r\n                    especialidad: { Classe: Especialidad }\r\n  }\r\n\r\n  const icons = { cita: { IconSearch:menuIcons.citaSearch, IconRead:menuIcons.cita, IconEdit:CalendarEdit, IconDelete:CalendarDelete },\r\n                  paciente: { IconSearch:menuIcons.pacienteSearch, IconRead:menuIcons.paciente, IconEdit:UserEdit, IconDelete:UserDelete },\r\n                  doctor: { IconSearch:menuIcons.doctorSearch, IconRead:menuIcons.doctor, IconEdit:UserEdit, IconDelete:UserDelete },\r\n                  consultorio: { IconSearch:menuIcons.consultorioSearch, IconRead:menuIcons.consultorio, IconEdit:HomeEdit, IconDelete:HomeDelete },\r\n                  tratamiento: { IconSearch:menuIcons.tratamientoSearch, IconRead:menuIcons.tratamiento, IconEdit:FilterEdit, IconDelete:FilterDelete },\r\n                  especialidad: { IconSearch:menuIcons.especialidadSearch, IconRead:menuIcons.especialidad, IconEdit:HearthEdit, IconDelete:HearthDelete }\r\n                }\r\n  \r\n  const objectClass = new classes[classType].Classe('');                      // Objeto instanciado con la Class \r\n  const urlApi = objectClass.api;\r\n  const { titles, placeholders } = objectClass.titles;\r\n  const { queries,setQueries,arrayFiltered,indexPage,itemsPerPage,activePages,indexPages,setIndexPage,setActivePages } = objectClass.data;\r\n  const { SortByProperty, setSortBy } = objectClass.sort;\r\n  const pluralEs = ['doctor','especialidad'];\r\n\r\n  const [items, setItems] = useState(arrayFiltered);\r\n  useEffect(() => setItems(arrayFiltered || []), [arrayFiltered]);     // Si initialArray cambia desde fuera, se sincroniza\r\n  \r\n  const handleDeleteItem = (id) => {\r\n    setItems( arrayFiltered.filter(item => item.id !== id) );         // Actualiza el estado de items para que ItemsList se re-renderice\r\n  };\r\n\r\n  const handleItems = (action, id) => {\r\n    setItems(arrayFiltered => {\r\n      switch (action) {\r\n        case 'delete': return arrayFiltered.filter(item => item.id !== id);\r\n        case 'update':\r\n          return arrayFiltered.map(item =>\r\n            // item.id === id ? { ...item, [classType]: { ...newData } } : item\r\n            item.id === id ? { ...item } : item\r\n          );\r\n        default: return arrayFiltered;\r\n      }\r\n  \r\n    });\r\n  }\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <div className={'container-fluid mt-4 mt-sm-5 me-0 smooth' + (isMenuOpen ? ' w-responsive':' w-100')}>\r\n        <h5 className='main-color fs-sm-2 mb-4'>{ classType.charAt(0).toUpperCase() + classType.slice(1) + (pluralEs.includes(classType) ? 'es':'s') }</h5>\r\n        <SearchBar Icon={icons[classType].IconSearch} items={titles} queries={queries} setQueries={setQueries} isMenuOpen={isMenuOpen} className={'float-end pb-3 me-0 smooth' + (isMenuOpen ? ' w-responsive':' w-100')} theme={theme}/>\r\n        <Suspense fallback={ <div className=\"loaderSpin\"></div> }>\r\n          <ItemsList classType={classType} icons={icons} titles={titles} urlApi={urlApi} array={items} objectClass={objectClass} SortByProperty={SortByProperty} setSortBy={setSortBy} indexPage={indexPage} handleItems={handleItems} />\r\n        </Suspense>\r\n        <PaginationBar array={arrayFiltered} itemsPerPage={itemsPerPage} indexPage={indexPage} activePages={activePages} indexPages={indexPages} setIndexPage={setIndexPage} setActivePages={setActivePages} /> \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QueryItem;"],"names":["CalendarEdit","lazy","CalendarDelete","UserEdit","UserDelete","HomeEdit","HomeDelete","HearthEdit","HearthDelete","FilterEdit","FilterDelete","SearchBar","ItemsList","PaginationBar","QueryItem","_ref","classType","menuIcons","isMenuOpen","theme","classes","cita","Classe","Cita","paciente","Paciente","doctor","Doctor","consultorio","Consultorio","tratamiento","Tratamiento","especialidad","Especialidad","icons","IconSearch","citaSearch","IconRead","IconEdit","IconDelete","pacienteSearch","doctorSearch","consultorioSearch","tratamientoSearch","especialidadSearch","objectClass","urlApi","api","titles","placeholders","queries","setQueries","arrayFiltered","indexPage","itemsPerPage","activePages","indexPages","setIndexPage","setActivePages","data","SortByProperty","setSortBy","sort","items","setItems","useState","useEffect","_jsx","className","children","_jsxs","charAt","toUpperCase","slice","includes","Icon","Suspense","fallback","array","handleItems","action","id","filter","item","map"],"sourceRoot":""}