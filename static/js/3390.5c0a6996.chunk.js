"use strict";(self.webpackChunkconsultorio_odontologico_frontend_react=self.webpackChunkconsultorio_odontologico_frontend_react||[]).push([[3390],{3390:(e,t,a)=>{a.r(t),a.d(t,{Item:()=>b,default:()=>v});var o=a(5043),s=a(7950),l=(a(3391),a(6213)),n=a(579);const c=e=>{let{classType:t,Icon:a,item:o,setOpen:s,theme:c}=e;const r=Object.keys(o[t]),i=Object.values(o[t]);let d=[];i.forEach(e=>{"object"===typeof e?d.push(Object.values(e)[0]+" "+Object.values(e)[1]):d.push(e)});const m=()=>{s(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"modalContainer justify-items-center",children:(0,n.jsxs)("div",{id:"modalBox",className:"modalBox","data-theme":c,children:[(0,n.jsxs)("div",{className:"modalHeader",children:[(0,n.jsx)("center",{children:(0,n.jsx)(a,{color:l.et,height:2.5,width:2.5,strokeWidth:.6,className:"center"})}),(0,n.jsx)("h6",{className:"modalTitle main-color pt-2",children:t.charAt(0).toUpperCase()+t.slice(1)})]}),(0,n.jsx)("div",{className:"modalContent",children:(0,n.jsxs)("div",{className:"container-fluid modalTable mt-2 overflow-auto",children:[(0,n.jsxs)("div",{className:"row modalTableTitle flex-nowrap",children:[(0,n.jsx)("div",{className:"col-6",children:"Par\xe1metro"}),(0,n.jsx)("div",{className:"col-6",children:"Datos"})]}),(0,n.jsxs)("div",{className:"row flex-nowrap",children:[(0,n.jsx)("div",{className:"col-6 modalTableData text-start",children:"C\xf3digo"}),(0,n.jsx)("div",{className:"col-6 modalTableData text-start",children:o._id})]}),d.map((e,t)=>(0,n.jsxs)("div",{className:"row flex-nowrap",children:[(0,n.jsx)("div",{className:"col-6 modalTableData text-start",children:r[t].charAt(0).toUpperCase()+r[t].slice(1)}),(0,n.jsx)("div",{className:"col-6 modalTableData text-start",children:e})]},r[t].toLowerCase()))]})}),(0,n.jsx)("div",{className:"modalFooter",children:(0,n.jsx)("div",{className:"d-grid mt-2 w-100",children:(0,n.jsx)("button",{className:"aceptBtn mx-auto w-50",onClick:m,children:"Aceptar"})})})]})}),(0,n.jsx)("div",{className:"darkBackground",onClick:m})]})};a(4268);var r=a(5453),i=a(9999);const d=(0,o.lazy)(()=>a.e(7283).then(a.bind(a,7283))),m=(0,o.lazy)(()=>a.e(7466).then(a.bind(a,7466))),h=e=>{let{property:t,theme:a}=e;const{array:o,pagination:s}=(0,r.B)({classType:t.key});return(0,n.jsx)("div",{className:"col px-0",children:(0,n.jsx)(m,{classType:t.key,value:t.value,array:o,handleChange:t.handleChange,placeholder:t.key.charAt(0).toUpperCase()+t.key.slice(1),pagination:s,className:"input form-control rounded border-muted border-1 text-muted shadow-sm",theme:a})})},u=e=>{let{classType:t,Icon:a,item:o,urlApi:s,setOpen:c,handleItems:r,alert:m,theme:u}=e,p={};switch(t){case"cita":p={paciente:o[t].paciente,consultorio:o[t].consultorio,doctor:o[t].doctor,tratamiento:o[t].tratamiento};break;case"paciente":p={nombre:o[t].nombre,apellido:o[t].apellido,identificacion:o[t].identificacion,genero:o[t].genero,eps_:o[t].eps};break;case"doctor":p={nombre:o[t].nombre,apellido:o[t].apellido,identificacion:o[t].identificacion,genero:o[t].genero,especialidad:o[t].especialidad};break;case"consultorio":p={numero:o[t].numero,nombre:o[t].nombre};break;case"especialidad":p={nombre:o[t].nombre};break;case"tratamiento":p={especialidad:o[t].especialidad,consultorio:o[t].consultorio,doc:o[t].doctor};break;default:p={}}const x=(0,i.W)({classType:t,initialValues:p}).state,j=()=>{c(!1)},b=()=>{if(x.every(e=>""!==e.value)){x.forEach(e=>{o[t][e.key]=e.value});const e=JSON.stringify({[t]:o[t]});(async(e,t,a)=>{try{const o=await fetch(e+"/"+a,{method:"PUT",body:t,headers:{"Content-type":"application/json"}});return o.json(),200<=o.status&&o.status<=299?console.log("PUT "+o.status+" Actualizaci\xf3n exitosa"):400<=o.status&&o.status<=499?console.log("PUT "+o.status+" Actualizaci\xf3n fallida: Error en el env\xedo de datos"):500<=o.status&&o.status<=599&&console.log("PUT "+o.status+" Actualizaci\xf3n fallida: Error en el servidor remoto"),o.status}catch(o){const e=o.toString().split(":")[1].trim();"Failed to fetch"===e?console.log("Actualizaci\xf3n fallida: No hay conexi\xf3n con la base de datos"):console.log("Actualizaci\xf3n fallida: "+e)}})(s,e,o._id).then(async e=>{200<=e&&e<=299?(r("update",o._id,t),m({type:"success",title:"Actualizaci\xf3n exitosa",buttons:1,theme:u})):m({type:"error",title:"Error en la actualizaci\xf3n",buttons:1,theme:u})},e=>{m({type:"error",title:"Error en la actualizaci\xf3n",buttons:1,theme:u}),console.log("Error Update: ",e)})}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"modalContainer justify-items-center",children:(0,n.jsxs)("div",{id:"modalBox",className:"modalBox","data-theme":u,children:[(0,n.jsxs)("div",{className:"modalHeader",children:[(0,n.jsx)("center",{children:(0,n.jsx)(a,{color:l.et,height:2.5,width:2.5,strokeWidth:.6,className:"center"})}),(0,n.jsx)("h6",{className:"modalTitle main-color pt-2",children:"Actualizar "+t.charAt(0).toUpperCase()+t.slice(1)+"?"})]}),(0,n.jsx)("div",{className:"modalContent",children:(0,n.jsxs)("div",{className:"container-fluid modalTable mt-2",children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsx)(d,{placeholder:"C\xf3digo",defaultValue:o._id,type:"text",className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm pe-none",theme:u})}),x.map((e,t)=>(0,n.jsx)("div",{className:"row",children:"dropdown"===e.type?(0,n.jsx)(h,{property:e,theme:u}):(0,n.jsx)("div",{className:"col px-0",children:(0,n.jsx)(d,{property:!0,value:e.value,type:e.type,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm",theme:u})})},"row"+t))]})}),(0,n.jsx)("div",{className:"modalFooter",children:(0,n.jsxs)("div",{className:"d-flex mt-2 w-100",children:[(0,n.jsx)("button",{className:"aceptBtn w-100",onClick:()=>{b(),j()},children:"Actualizar"}),(0,n.jsx)("button",{className:"cancelBtn w-100",onClick:j,children:"Cancel"})]})})]})}),(0,n.jsx)("div",{className:"darkBackground",onClick:j})]})},p=(0,o.lazy)(()=>a.e(7793).then(a.bind(a,7793))),x=e=>{let{classType:t,Icon:a=p,item:o,urlApi:s,setOpen:l,handleItems:c,alert:r,theme:i}=e;const d=Object.keys(o[t]),m=Object.values(o[t]);let h=[];m.forEach(e=>{"object"===typeof e?h.push(Object.values(e)[0]+" "+Object.values(e)[1]):h.push(e)});const u=()=>{l(!1)},x=()=>{(async(e,t)=>{try{const a=await fetch(e+"/"+t,{method:"DELETE",headers:{"Content-type":"application/json"}});return a.json(),200<=a.status&&a.status<=299?console.log("DELETE "+a.status+" Registro eliminado"):400<=a.status&&a.status<=499?console.log("DELETE "+a.status+" Eliminaci\xf3n fallida: Error en el env\xedo de datos"):500<=a.status&&a.status<=599&&console.log("DELETE "+a.status+" Eliminaci\xf3n fallida: Error en el servidor remoto"),a.status}catch(a){const e=a.toString().split(":")[1].trim();"Failed to fetch"===e?console.log("Eliminaci\xf3n fallida: No hay conexi\xf3n con la base de datos"):console.log("Eliminaci\xf3n fallida: "+e)}})(s,o._id).then(async e=>{200<=e&&e<=299?(c("delete",o._id),r({type:"success",title:"Eliminaci\xf3n exitosa",buttons:1,theme:i})):r({type:"error",title:"Error en la eliminaci\xf3n",buttons:1,theme:i})},e=>{r({type:"error",title:"Error en la eliminaci\xf3n",buttons:1,theme:i}),console.log("Error en la eliminaci\xf3n: ",e)})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"modalContainer justify-items-center",children:(0,n.jsxs)("div",{id:"modalBox",className:"modalBox","data-theme":i,children:[(0,n.jsxs)("div",{className:"modalHeader",children:[(0,n.jsx)("center",{children:(0,n.jsx)(a,{color:"#f8bb86",height:3,width:3,className:"center"})}),(0,n.jsx)("h6",{className:"modalTitle main-color pt-2",children:"Eliminar "+t.charAt(0).toUpperCase()+t.slice(1)+"?"})]}),(0,n.jsx)("div",{className:"modalContent",children:(0,n.jsxs)("div",{className:"container-fluid modalTable mt-2 overflow-auto",children:[(0,n.jsxs)("div",{className:"row modalTableTitle flex-nowrap",children:[(0,n.jsx)("div",{className:"col-6",children:"Par\xe1metro"}),(0,n.jsx)("div",{className:"col-6",children:"Datos"})]}),(0,n.jsxs)("div",{className:"row flex-nowrap",children:[(0,n.jsx)("div",{className:"col-6 modalTableData text-start",children:"C\xf3digo"}),(0,n.jsx)("div",{className:"col-6 modalTableData text-start",children:o._id})]}),h.map((e,t)=>(0,n.jsxs)("div",{className:"row flex-nowrap",children:[(0,n.jsx)("div",{className:"col-6 modalTableData text-start",children:d[t].charAt(0).toUpperCase()+d[t].slice(1)}),(0,n.jsx)("div",{className:"col-6 modalTableData text-start",children:e})]},d[t].toLowerCase()))]})}),(0,n.jsx)("div",{className:"modalFooter",children:(0,n.jsxs)("div",{className:"d-flex mt-2 w-100",children:[(0,n.jsx)("button",{className:"aceptBtn w-100",onClick:()=>{x(),u()},children:"Eliminar"}),(0,n.jsx)("button",{className:"cancelBtn w-100",onClick:u,children:"Cancel"})]})})]})}),(0,n.jsx)("div",{className:"darkBackground",onClick:u})]})};function j(e){const[t,a]=e.split(":").map(Number);let o=t<12?" am":" pm";return`${t%12||12}:${a.toString().padStart(2,"0")}${o}`}const b=e=>{let{classType:t,Icons:a,item:l={},urlApi:r,handleItems:i,alert:d,theme:m}=e;const[h,p]=(0,o.useState)(!1),b=a[t].IconRead,v=a[t].IconSearch,g=a[t].IconEdit,N=a[t].IconDelete,y=["paciente","doctor","consultorio","tratamiento","especialidad","genero","eps"],f={read:(0,n.jsx)(c,{classType:t,Icon:b,item:l,setOpen:p,theme:m}),update:(0,n.jsx)(u,{classType:t,Icon:g,item:l,urlApi:r,setOpen:p,handleItems:i,alert:d,theme:m}),delete:(0,n.jsx)(x,{classType:t,item:l,urlApi:r,setOpen:p,handleItems:i,alert:d,theme:m})};return h?document.body.classList.add("noScroll"):document.body.classList.remove("noScroll"),(0,n.jsxs)(n.Fragment,{children:[Object.entries((null===l||void 0===l?void 0:l[t])||{}).map((e,t)=>{let[a,o]=e;return(0,n.jsx)("div",{className:"text-start text-nowrap ms-2 ms-sm-2 pe-0"+(y.includes(a)?" col-6 col-sm-3":" col-4 col-sm-2"),children:"hora"===a?j(o):o},"item"+t)}),(0,n.jsxs)("div",{className:"col",children:[(0,n.jsx)("button",{className:"border-0 bg-transparent queryBtn main-color",onClick:()=>p("read"),children:(0,n.jsx)(v,{width:"1.5",height:"1.5"})}),(0,n.jsx)("button",{className:"border-0 bg-transparent queryBtn main-color",onClick:()=>p("update"),children:(0,n.jsx)(g,{width:"1.5",height:"1.5"})}),(0,n.jsx)("button",{className:"border-0 bg-transparent queryBtn main-color",onClick:()=>p("delete"),children:(0,n.jsx)(N,{width:"1.5",height:"1.5"})})]}),h&&(0,s.createPortal)((0,n.jsx)("div",{id:"modal",children:f[h]}),document.body)]})},v=b},3391:()=>{},5453:(e,t,a)=>{a.d(t,{B:()=>c});var o=a(5043),s=a(2219),l=a(5356);const n={paciente:"https://consultorio-odontologico-backend-node.onrender.com/api/consultorio/pacientes",doctor:"https://consultorio-odontologico-backend-node.onrender.com/api/consultorio/doctores",consultorio:"https://consultorio-odontologico-backend-node.onrender.com/api/consultorio/consultorios",tratamiento:"https://consultorio-odontologico-backend-node.onrender.com/api/consultorio/tratamientos",eps:"https://consultorio-odontologico-backend-node.onrender.com/api/consultorio/epss",genero:"https://consultorio-odontologico-backend-node.onrender.com/api/consultorio/generos",especialidad:"https://consultorio-odontologico-backend-node.onrender.com/api/consultorio/especialidades"},c=e=>{let{classType:t=""}=e;const a=n[t]||"",{data:c,status:r}=(0,l.s)(a);(0,o.useEffect)(()=>{r>=400&&(0,s.F)({type:"error",title:"Error en la conexi\xf3n con la base de datos"}).launch()},[r]);const i=(0,o.useMemo)(()=>Array.isArray(c)?c:[],[c]),[d,m]=(0,o.useState)(5),[h,u]=(0,o.useState)([0,5]),p=Math.floor(i.length/d);let x=[];if(0!==i.length%d)for(let o=0;o<=p;o++)x.push(o);else for(let o=0;o<p;o++)x.push(o);const[j,b]=(0,o.useState)(x.map((e,t)=>0===t));return{array:i,pagination:{itemsPerPage:d,indexPage:h,activePages:j,indexPages:x,setIndexPage:u,setActivePages:b,setItemsPerPage:m}}}}}]);
//# sourceMappingURL=3390.5c0a6996.chunk.js.map