{"version":3,"file":"static/js/5237.7a6d97c5.chunk.js","mappings":"qQAKA,MAAMA,GAAYC,EAAAA,EAAAA,MAAK,IAAM,gCACvBC,GAAYD,EAAAA,EAAAA,MAAK,IAAM,gCACvBE,GAAgBF,EAAAA,EAAAA,MAAK,IAAM,gCAEpBG,EAAYC,IAA8C,IAA7C,UAAEC,EAAS,MAAEC,EAAK,WAAEC,EAAU,MAAEC,GAAOJ,EAC/D,MAAM,MAAEK,IAAUC,EAAAA,EAAAA,KAEZC,GAAaC,EAAAA,EAAAA,GAAe,CAAEP,UAAUA,IAExCQ,EAASF,EAAWG,IACpBC,EAASJ,EAAWI,QACpB,QAAEC,EAAO,WAACC,EAAU,cAACC,EAAa,UAACC,EAAS,aAACC,EAAY,YAACC,EAAW,WAACC,EAAU,aAACC,EAAY,eAACC,GAAmBb,EAAWc,MAC5H,eAAEC,EAAc,UAAEC,GAAchB,EAAWiB,MAE1CC,EAAOC,IAAYC,EAAAA,EAAAA,UAASb,IACnCc,EAAAA,EAAAA,WAAU,IAAMF,EAASZ,GAAiB,IAAK,CAACA,IAYhD,OACEe,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBC,EAAAA,EAAAA,MAAA,OAAKF,UAAW,4CAA8C3B,EAAa,gBAAgB,UAAU4B,SAAA,EACnGF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,0BAAyBC,SAAG9B,EAAUgC,OAAO,GAAGC,cAAgBjC,EAAUkC,MAAM,IAAMC,EAAAA,GAASC,SAASpC,GAAa,KAAK,QACxI4B,EAAAA,EAAAA,KAAClC,EAAS,CAAC2C,KAAMpC,EAAMD,GAAWsC,WAAYd,MAAOd,EAAQC,QAASA,EAASC,WAAYA,EAAYV,WAAYA,EAAY2B,UAAW,8BAAgC3B,EAAa,gBAAgB,UAAWC,MAAOA,KACzNyB,EAAAA,EAAAA,KAACW,EAAAA,SAAQ,CAACC,UAAWZ,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAqBC,UACvDF,EAAAA,EAAAA,KAAChC,EAAS,CAACI,UAAWA,EAAWC,MAAOA,EAAOS,OAAQA,EAAQF,OAAQA,EAAQiC,MAAOjB,EAAOH,eAAgBA,EAAgBC,UAAWA,EAAWR,UAAWA,EAAW4B,YAhB7JA,CAACC,EAAQC,EAAI5C,KAC/ByB,EAASZ,IACP,OAAQ8B,GACN,IAAK,SAAU,OAAO9B,EAAcgC,OAAOC,GAAQA,EAAKC,MAAQH,GAChE,IAAK,SAAU,OAAO/B,EAAcmC,IAAIF,GAAQA,EAAKC,MAAQH,EAAK,IAAKE,EAAM,CAAC9C,GAAY,IAAK8C,EAAK9C,KAAiB8C,GACrH,QAAS,OAAOjC,MAWqLT,MAAOA,EAAOD,MAAOA,OAE1NyB,EAAAA,EAAAA,KAAC/B,EAAa,CAAC4C,MAAO5B,EAAeE,aAAcA,EAAcD,UAAWA,EAAWE,YAAaA,EAAaC,WAAYA,EAAYC,aAAcA,EAAcC,eAAgBA,UAM7L,G","sources":["components/crud/QueryItem.js"],"sourcesContent":["import { Suspense, lazy, useState, useEffect } from 'react';\r\nimport { useAlert } from \"../../hooks/useAlert.js\";\r\nimport { useCrudFactory } from '../../hooks/useCrudFactory.js';\r\nimport { plurales } from '../../global.js';\r\n\r\nconst SearchBar = lazy(() => import('../search/SearchBar.js'));\r\nconst ItemsList = lazy(() => import('./items/ItemsList.js'));\r\nconst PaginationBar = lazy(() => import('../pagination/PaginationBar.js'));\r\n\r\nexport const QueryItem = ({ classType, Icons, isMenuOpen, theme }) => {\r\n  const { alert } = useAlert();\r\n\r\n  const objectHook = useCrudFactory({ classType:classType });\r\n\r\n  const urlApi = objectHook.api;\r\n  const titles = objectHook.titles;\r\n  const { queries,setQueries,arrayFiltered,indexPage,itemsPerPage,activePages,indexPages,setIndexPage,setActivePages } = objectHook.data;\r\n  const { SortByProperty, setSortBy } = objectHook.sort;\r\n\r\n  const [items, setItems] = useState(arrayFiltered);\r\n  useEffect(() => setItems(arrayFiltered || []), [arrayFiltered]);     // Si initialArray cambia desde fuera, se sincroniza\r\n  \r\n  const handleItems = (action, id, classType) => {\r\n    setItems(arrayFiltered => {\r\n      switch (action) {\r\n        case 'delete': return arrayFiltered.filter(item => item._id !== id);\r\n        case 'update': return arrayFiltered.map(item => item._id === id ? { ...item, [classType]: { ...item[classType] } } : item);\r\n        default: return arrayFiltered;\r\n      }\r\n    });\r\n  }\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <div className={'container-fluid mt-4 mt-sm-5 me-0 smooth' + (isMenuOpen ? ' w-responsive':' w-100')}>\r\n        <h5 className='main-color fs-sm-2 mb-4'>{ classType.charAt(0).toUpperCase() + classType.slice(1) + (plurales.includes(classType) ? 'es':'s') }</h5>\r\n        <SearchBar Icon={Icons[classType].IconSearch} items={titles} queries={queries} setQueries={setQueries} isMenuOpen={isMenuOpen} className={'float-end pb-3 me-0 smooth' + (isMenuOpen ? ' w-responsive':' w-100')} theme={theme}/>\r\n        <Suspense fallback={ <div className=\"loaderSpin\"></div> }>\r\n          <ItemsList classType={classType} Icons={Icons} titles={titles} urlApi={urlApi} array={items} SortByProperty={SortByProperty} setSortBy={setSortBy} indexPage={indexPage} handleItems={handleItems} alert={alert} theme={theme}/>\r\n        </Suspense>\r\n        <PaginationBar array={arrayFiltered} itemsPerPage={itemsPerPage} indexPage={indexPage} activePages={activePages} indexPages={indexPages} setIndexPage={setIndexPage} setActivePages={setActivePages} /> \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QueryItem;"],"names":["SearchBar","lazy","ItemsList","PaginationBar","QueryItem","_ref","classType","Icons","isMenuOpen","theme","alert","useAlert","objectHook","useCrudFactory","urlApi","api","titles","queries","setQueries","arrayFiltered","indexPage","itemsPerPage","activePages","indexPages","setIndexPage","setActivePages","data","SortByProperty","setSortBy","sort","items","setItems","useState","useEffect","_jsx","className","children","_jsxs","charAt","toUpperCase","slice","plurales","includes","Icon","IconSearch","Suspense","fallback","array","handleItems","action","id","filter","item","_id","map"],"sourceRoot":""}