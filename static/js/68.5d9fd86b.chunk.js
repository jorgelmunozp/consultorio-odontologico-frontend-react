"use strict";(self.webpackChunkconsultorio_odontologico_frontend_react=self.webpackChunkconsultorio_odontologico_frontend_react||[]).push([[68],{5068:(e,t,s)=>{s.r(t),s.d(t,{CreatePaciente:()=>n,default:()=>l});var a=s(8509),o=s(579);const n=e=>{let{Icon:t,isMenuOpen:s}=e;return(0,o.jsx)(a.i,{classType:"paciente",Icon:t,isMenuOpen:s})},l=n},5186:(e,t,s)=>{s.d(t,{m:()=>l});var a=s(5043),o=s(4446),n=s(5356);class l{constructor(e){let{classType:t=""}=e;this.getValue=e=>{let{defaultValue:t=""}=e,[s,o]=(0,a.useState)(t);return{value:s,setValue:o}},this.getData=()=>{let e=[],t="";switch(this.classType){case"paciente":t="http://192.168.18.249:3000/pacientes";break;case"doctor":t="http://192.168.18.249:3000/doctores";break;case"consultorio":t="http://192.168.18.249:3000/consultorios";break;case"tratamiento":t="http://192.168.18.249:3000/tratamientos";break;case"eps":t="http://192.168.18.249:3000/epss";break;case"genero":t="http://192.168.18.249:3000/generos";break;case"especialidad":t="http://192.168.18.249:3000/especialidades"}const s=(0,n.s)(t);(0,a.useEffect)(()=>{s.status>=400&&(0,o.F)({type:"error",title:"Error en la conexi\xf3n con la base de datos"}).launch()},[s]),void 0!==s.data.length&&(e=s.data);const[l,r]=(0,a.useState)(5),[c,i]=(0,a.useState)([0,l]),d=Math.floor(e.length/l),p=e.length%l;let u=[],h=[!0];if(0!==p)for(let a=0;a<=d;a++)u.push(a),a<0&&h.push(!1);else if(0===p)for(let a=0;a<d;a++)u.push(a),a<0&&h.push(!1);const[g,m]=(0,a.useState)(h);return{array:e,pagination:{itemsPerPage:l,indexPage:c,activePages:g,indexPages:u,setIndexPage:i,setActivePages:m}}},this.classType={classType:t}.classType}get value(){return this.getValue({defaultValue:""})}get data(){return this.getData()}}},7466:(e,t,s)=>{s.d(t,{m:()=>i});var a=s(5043),o=s(2864),n=(s(6587),s(1279)),l=s.n(n),r=s(4420),c=s(579);const i=e=>{let{classType:t,object:s,placeholder:n="",array:l=[],defaultSelect:r="",handleChange:i,pagination:p,className:u=""}=e;const[h,g]=(0,a.useState)(!1);let{value:m,setValue:x}=s.getValue({defaultValue:r});return(0,c.jsxs)("div",{className:"dropdown form-floating w-100 min-width-10 py-sm-0 px-0",children:[(0,c.jsx)("button",{onClick:()=>g(!1===h),onChange:i,className:u+(0===m.length?" dropdown-toggle text-start pt-2 ps-2 ps-sm-3 pe-5 w-100":" dropdown-toggle text-center pt-4 ps-2 ps-sm-3 pe-5 w-100"),type:"button",id:"selectButton"+t,"data-bs-target":"#dropdownMenu"+t,"aria-controls":"dropdownMenu"+t,"aria-expanded":"false",children:0===m.length?n:m}),(0,c.jsx)("label",{htmlFor:"selectButton",className:"form-label text-muted text-nowrap text-truncate",children:0===m.length?"":n}),(0,c.jsxs)("ul",{id:"dropdownMenu"+t,className:"dropdown-menu text-center shadow-sm w-100 overflow-auto slideIn smooth"+(h?" collapse show":""),style:0===l.length?{maxHeight:"0rem"}:{maxHeight:"12rem"},"aria-labelledby":"selectButton",children:[l.slice(p.indexPage[0],p.indexPage[1]).map((e,s)=>{switch(t){case"paciente":case"doctor":m=e[t].nombre+" "+e[t].apellido;break;case"consultorio":m=e[t].numero+" "+e[t].nombre;break;case"tratamiento":m=e[t].especialidad;break;case"eps":case"genero":case"especialidad":m=e[t].nombre}return(0,c.jsx)(d,{value:m,setValue:x,setOpen:g,handleChange:i},t+"Option"+s)}),(0,c.jsx)(o.Y,{array:l,itemsPerPage:p.itemsPerPage,indexPage:p.indexPage,activePages:p.activePages,indexPages:p.indexPages,setIndexPage:p.setIndexPage,setActivePages:p.setActivePages})]})]})},d=e=>{let{value:t,setValue:s,setOpen:a,handleChange:o}=e;return(0,c.jsx)("li",{children:(0,c.jsx)("button",{className:"dropdown-item",value:l()(t,"3lC0nsult0r10"),onClick:e=>{s((0,r.s)(e.target.value)),a(!1),o(e)},children:t})})}},7822:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>fetchCreate});const fetchCreate=(urlApi,dataApi,setResponseStatus)=>{fetch(urlApi,{method:"POST",body:eval(dataApi),headers:{"Content-type":"application/json"}}).then(e=>{e.json(),200<=e.status&&e.status<=299?(console.log("POST "+e.status+" Registro exitoso"),setResponseStatus(e.status)):400<=e.status&&e.status<=499?(console.log("POST "+e.status+" Registro fallido: Error en el env\xedo de datos"),setResponseStatus(e.status)):500<=e.status&&e.status<=599&&(console.log("POST "+e.status+" Registro fallido: Error en el servidor remoto"),setResponseStatus(e.status))}).catch(e=>{const t=e.toString().split(":")[1].trim();"Failed to fetch"===t?(console.log(e.status+" Registro fallido"),setResponseStatus("Registro fallido: No hay conexi\xf3n con la base de datos")):setResponseStatus("Registro fallido: "+t)})}},8509:(e,t,s)=>{s.d(t,{i:()=>x});var a=s(5043),o=(s(4391),s(4446)),n=s(5186),l=s(7333),r=s(4021),c=s(3959),i=s(9727),d=s(5938),p=s(7466),u=s(7283),h=s(7822),g=s(579);const m=e=>{let{endIcon:t,title:s,urlApi:a,dataApi:n,setResponseStatus:l,className:r}=e;return(0,g.jsxs)("button",{onClick:()=>{0===n.length?(0,o.F)({type:"warning",title:"Debes ingresar todos los datos"}).launch():(0,h.V)(a,n,l)},className:r,children:[" ",s," ",t," "]})};s(1279),s(4420);const x=e=>{let{classType:t,Icon:s,isMenuOpen:h}=e;const[x,y]=(0,a.useState)(0),b={cita:{Classe:l.W},paciente:{Classe:r.QY},doctor:{Classe:r.AY},consultorio:{Classe:i.S},tratamiento:{Classe:d.T},especialidad:{Classe:c.N}},f=new b[t].Classe(""),w=f.state,v=f.api;let C="";return 0===w.filter(e=>""===e.value).length&&(w.forEach(e=>f[e.key]=e.value),C=`JSON.stringify({                           \n      ${b[t].Classe.name.toLowerCase()}: ${JSON.stringify(f)}\n    })`),200<=x&&x<=299?(console.log("state CreateItem 1: ",w),w.forEach(e=>e.setState("")),console.log("state CreateItem 2: ",w),(0,o.F)({type:"success",title:"Registro exitoso"}).launch(),y(0)):(400<=x&&x<=499||500<=x&&x<=599)&&((0,o.F)({type:"error",title:"Error en el registro"}).launch(),y(0)),(0,g.jsx)("div",{className:"App",children:(0,g.jsxs)("div",{className:"mt-4 mt-sm-5",children:[(0,g.jsx)("center",{children:(0,g.jsxs)("h5",{className:"century-gothic main-color fs-sm-2",children:["Registrar ",t.charAt(0).toUpperCase()+t.slice(1)]})}),(0,g.jsxs)("div",{className:"container-fluid mt-2 mt-sm-5 pe-0 pe-md-5 px-0 me-0 smooth "+(h?" w-responsive":" px-sm-5 w-100"),children:[w.map(e=>{const t=new n.m({classType:e.key}),{array:s,pagination:a}=t.data;return(0,g.jsx)("div",{id:"row"+e.key,className:"row",children:(0,g.jsx)(g.Fragment,{children:"dropdown"===e.type?(0,g.jsx)("div",{className:"col",children:(0,g.jsx)(p.m,{classType:e.key,object:t,array:s,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),pagination:a,className:"input form-control rounded border-muted border-1 text-muted shadow-sm"})}):(0,g.jsx)("div",{className:"col",children:(0,g.jsx)(u.p,{type:e.type,defaultValue:e.value,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm"})})})},"row"+e.key)}),(0,g.jsx)("div",{className:"row mt-4 mt-sm-5",children:(0,g.jsx)("div",{className:"col",children:(0,g.jsx)(m,{endIcon:(0,g.jsx)(s,{}),title:"Registrar",urlApi:v,dataApi:C,setResponseStatus:y,className:"button rounded border-0 py-3 shadow-sm"})})})]})]})})}}}]);
//# sourceMappingURL=68.5d9fd86b.chunk.js.map