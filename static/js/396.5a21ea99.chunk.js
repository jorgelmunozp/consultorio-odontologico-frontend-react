"use strict";(self.webpackChunkconsultorio_odontologico_frontend_react=self.webpackChunkconsultorio_odontologico_frontend_react||[]).push([[396],{576:(e,t,s)=>{s.r(t),s.d(t,{CreateDoctor:()=>n,default:()=>l});var a=s(8509),o=s(579);const n=e=>{let{Icon:t,isMenuOpen:s}=e;return(0,o.jsx)(a.i,{classType:"doctor",Icon:t,isMenuOpen:s})},l=n},5186:(e,t,s)=>{s.d(t,{m:()=>l});var a=s(5043),o=s(4446),n=s(5356);class l{constructor(e){let{classType:t=""}=e;this.getValue=e=>{let{defaultValue:t=""}=e,[s,o]=(0,a.useState)(t);return{value:s,setValue:o}},this.getData=()=>{let e=[],t="";switch(this.classType){case"paciente":t="https://jorgelmunozp.github.io/consultorio-odontologico-backend-node/pacientes.json";break;case"doctor":t="https://jorgelmunozp.github.io/consultorio-odontologico-backend-node/doctores.json";break;case"consultorio":t="https://jorgelmunozp.github.io/consultorio-odontologico-backend-node/consultorios.json";break;case"tratamiento":t="https://jorgelmunozp.github.io/consultorio-odontologico-backend-node/tratamientos.json";break;case"eps":t="https://jorgelmunozp.github.io/consultorio-odontologico-backend-node/epss.json";break;case"genero":t="https://jorgelmunozp.github.io/consultorio-odontologico-backend-node/generos.json";break;case"especialidad":t="https://jorgelmunozp.github.io/consultorio-odontologico-backend-node/especialidades.json"}const s=(0,n.s)(t);(0,a.useEffect)(()=>{s.status>=400&&(0,o.F)({type:"error",title:"Error en la conexi\xf3n con la base de datos"}).launch()},[s]),void 0!==s.data.length&&(e=s.data);const[l,r]=(0,a.useState)(5),[c,i]=(0,a.useState)([0,l]),d=Math.floor(e.length/l),u=e.length%l;let p=[],g=[!0];if(0!==u)for(let a=0;a<=d;a++)p.push(a),a<0&&g.push(!1);else if(0===u)for(let a=0;a<d;a++)p.push(a),a<0&&g.push(!1);const[h,m]=(0,a.useState)(g);return{array:e,pagination:{itemsPerPage:l,indexPage:c,activePages:h,indexPages:p,setIndexPage:i,setActivePages:m}}},this.classType={classType:t}.classType}get value(){return this.getValue({defaultValue:""})}get data(){return this.getData()}}},7466:(e,t,s)=>{s.d(t,{m:()=>i});var a=s(5043),o=s(2864),n=(s(6587),s(1279)),l=s.n(n),r=s(4420),c=s(579);const i=e=>{let{classType:t,object:s,placeholder:n="",array:l=[],defaultSelect:r="",handleChange:i,pagination:u,className:p=""}=e;const[g,h]=(0,a.useState)(!1);let{value:m,setValue:x}=s.getValue({defaultValue:r});return(0,c.jsxs)("div",{className:"dropdown form-floating w-100 min-width-10 py-sm-0 px-0",children:[(0,c.jsx)("button",{onClick:()=>h(!1===g),onChange:i,className:p+(0===m.length?" dropdown-toggle text-start pt-2 ps-2 ps-sm-3 pe-5 w-100":" dropdown-toggle text-center pt-4 ps-2 ps-sm-3 pe-5 w-100"),type:"button",id:"selectButton"+t,"data-bs-target":"#dropdownMenu"+t,"aria-controls":"dropdownMenu"+t,"aria-expanded":"false",children:0===m.length?n:m}),(0,c.jsx)("label",{htmlFor:"selectButton",className:"form-label text-muted text-nowrap text-truncate",children:0===m.length?"":n}),(0,c.jsxs)("ul",{id:"dropdownMenu"+t,className:"dropdown-menu text-center shadow-sm w-100 overflow-auto slideIn smooth"+(g?" collapse show":""),style:0===l.length?{maxHeight:"0rem"}:{maxHeight:"12rem"},"aria-labelledby":"selectButton",children:[l.slice(u.indexPage[0],u.indexPage[1]).map((e,s)=>{switch(t){case"paciente":case"doctor":m=e[t].nombre+" "+e[t].apellido;break;case"consultorio":m=e[t].numero+" "+e[t].nombre;break;case"tratamiento":m=e[t].especialidad;break;case"eps":case"genero":case"especialidad":m=e[t].nombre}return(0,c.jsx)(d,{value:m,setValue:x,setOpen:h,handleChange:i},t+"Option"+s)}),(0,c.jsx)(o.Y,{array:l,itemsPerPage:u.itemsPerPage,indexPage:u.indexPage,activePages:u.activePages,indexPages:u.indexPages,setIndexPage:u.setIndexPage,setActivePages:u.setActivePages})]})]})},d=e=>{let{value:t,setValue:s,setOpen:a,handleChange:o}=e;return(0,c.jsx)("li",{children:(0,c.jsx)("button",{className:"dropdown-item",value:l()(t,"3lC0nsult0r10"),onClick:e=>{s((0,r.s)(e.target.value)),a(!1),o(e)},children:t})})}},7822:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>fetchCreate});const fetchCreate=(urlApi,dataApi,setResponseStatus)=>{fetch(urlApi,{method:"POST",body:eval(dataApi),headers:{"Content-type":"application/json"}}).then(e=>{e.json(),200<=e.status&&e.status<=299?(console.log("POST "+e.status+" Registro exitoso"),setResponseStatus(e.status)):400<=e.status&&e.status<=499?(console.log("POST "+e.status+" Registro fallido: Error en el env\xedo de datos"),setResponseStatus(e.status)):500<=e.status&&e.status<=599&&(console.log("POST "+e.status+" Registro fallido: Error en el servidor remoto"),setResponseStatus(e.status))}).catch(e=>{const t=e.toString().split(":")[1].trim();"Failed to fetch"===t?(console.log(e.status+" Registro fallido"),setResponseStatus("Registro fallido: No hay conexi\xf3n con la base de datos")):setResponseStatus("Registro fallido: "+t)})}},8509:(e,t,s)=>{s.d(t,{i:()=>x});var a=s(5043),o=(s(4391),s(4446)),n=s(5186),l=s(7333),r=s(4021),c=s(3959),i=s(9727),d=s(5938),u=s(7466),p=s(7283),g=s(7822),h=s(579);const m=e=>{let{endIcon:t,title:s,urlApi:a,dataApi:n,setResponseStatus:l,className:r}=e;return(0,h.jsxs)("button",{onClick:()=>{0===n.length?(0,o.F)({type:"warning",title:"Debes ingresar todos los datos"}).launch():(0,g.V)(a,n,l)},className:r,children:[" ",s," ",t," "]})};s(1279),s(4420);const x=e=>{let{classType:t,Icon:s,isMenuOpen:g}=e;const[x,b]=(0,a.useState)(0),j={cita:{Classe:l.W},paciente:{Classe:r.QY},doctor:{Classe:r.AY},consultorio:{Classe:i.S},tratamiento:{Classe:d.T},especialidad:{Classe:c.N}},y=new j[t].Classe(""),f=y.state,w=y.api;let k="";return 0===f.filter(e=>""===e.value).length&&(f.forEach(e=>y[e.key]=e.value),k=`JSON.stringify({                           \n      ${j[t].Classe.name.toLowerCase()}: ${JSON.stringify(y)}\n    })`),200<=x&&x<=299?(console.log("state CreateItem 1: ",f),f.forEach(e=>e.setState("")),console.log("state CreateItem 2: ",f),(0,o.F)({type:"success",title:"Registro exitoso"}).launch(),b(0)):(400<=x&&x<=499||500<=x&&x<=599)&&((0,o.F)({type:"error",title:"Error en el registro"}).launch(),b(0)),(0,h.jsx)("div",{className:"App",children:(0,h.jsxs)("div",{className:"mt-4 mt-sm-5",children:[(0,h.jsx)("center",{children:(0,h.jsxs)("h5",{className:"century-gothic main-color fs-sm-2",children:["Registrar ",t.charAt(0).toUpperCase()+t.slice(1)]})}),(0,h.jsxs)("div",{className:"container-fluid mt-2 mt-sm-5 pe-0 pe-md-5 px-0 me-0 smooth "+(g?" w-responsive":" px-sm-5 w-100"),children:[f.map(e=>{const t=new n.m({classType:e.key}),{array:s,pagination:a}=t.data;return(0,h.jsx)("div",{id:"row"+e.key,className:"row",children:(0,h.jsx)(h.Fragment,{children:"dropdown"===e.type?(0,h.jsx)("div",{className:"col",children:(0,h.jsx)(u.m,{classType:e.key,object:t,array:s,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),pagination:a,className:"input form-control rounded border-muted border-1 text-muted shadow-sm"})}):(0,h.jsx)("div",{className:"col",children:(0,h.jsx)(p.p,{type:e.type,defaultValue:e.value,handleChange:e.handleChange,placeholder:e.key.charAt(0).toUpperCase()+e.key.slice(1),className:"input form-control rounded border-muted border-1 text-muted text-center shadow-sm"})})})},"row"+e.key)}),(0,h.jsx)("div",{className:"row mt-4 mt-sm-5",children:(0,h.jsx)("div",{className:"col",children:(0,h.jsx)(m,{endIcon:(0,h.jsx)(s,{}),title:"Registrar",urlApi:w,dataApi:k,setResponseStatus:b,className:"button rounded border-0 py-3 shadow-sm"})})})]})]})})}}}]);
//# sourceMappingURL=396.5a21ea99.chunk.js.map